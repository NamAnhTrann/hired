<section
  class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-neutral-900 dark:to-neutral-950"
>
  <section class="max-w-6xl mx-auto px-6 py-10">
    <!-- BREADCRUMB -->
    <nav class="mb-8 text-sm text-gray-500 dark:text-neutral-400">
      <ol class="flex items-center gap-2">
        <li>
          <a
            routerLink="/dashboard-page"
            class="hover:text-gray-900 dark:hover:text-neutral-200 transition"
          >
            Dashboard
          </a>
        </li>
        <li class="opacity-60">/</li>
        <li class="text-gray-900 dark:text-neutral-200 font-medium">
          Add Product
        </li>
      </ol>
    </nav>

    <!-- HEADER -->
    <section class="mb-12 flex items-end justify-between">
      <div>
        <h1
          class="text-3xl font-semibold tracking-tight text-gray-900 dark:text-neutral-100"
        >
          Post a new product
        </h1>
        <p class="mt-2 text-sm text-gray-500 dark:text-neutral-400 max-w-md">
          Create a product listing that will be visible to customers
          immediately.
        </p>
      </div>

      <a
        routerLink="/dashboard-page"
        class="text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-neutral-400 dark:hover:text-neutral-200 transition"
      >
        ← Back
      </a>
    </section>

    <!-- FORM CARD -->
    <section
      class="max-w-2xl bg-white/80 dark:bg-neutral-900/80 backdrop-blur rounded-3xl border border-gray-200/60 dark:border-neutral-800 shadow-sm p-10"
    >
      <form [formGroup]="form" (ngSubmit)="add_product()" class="space-y-8">
        <!-- TITLE -->
        <section>
          <label
            class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-neutral-400"
          >
            Product title
          </label>
          <input
            type="text"
            formControlName="product_title"
            placeholder="Minimal hoodie"
            class="mt-2 w-full rounded-xl border border-gray-300/70 dark:border-neutral-700 bg-white dark:bg-neutral-950 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-black/70 dark:focus:ring-white/20 transition"
          />

          @if (form.controls.product_title.touched &&
          form.controls.product_title.invalid) {
          <p class="text-red-500 text-xs mt-1">
            Title must be 3–120 characters
          </p>
          }
        </section>

        <!-- DESCRIPTION -->
        <section>
          <label
            class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-neutral-400"
          >
            Description
          </label>
          <textarea
            rows="4"
            formControlName="product_description"
            placeholder="Describe the product in detail"
            class="mt-2 w-full rounded-xl border border-gray-300/70 dark:border-neutral-700 bg-white dark:bg-neutral-950 px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-black/70 dark:focus:ring-white/20 transition"
          ></textarea>
          @if (form.controls.product_description.touched &&
          form.controls.product_description.invalid) {
          <p class="text-red-500 text-xs mt-1">
            Description must be 10-3000 characters
          </p>
          }
        </section>

        <!-- PRICE & QUANTITY -->
        <section class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <section>
            <label
              class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-neutral-400"
            >
              Price
            </label>
            <input
              type="number"
              min="0"
              step="0.01"
              formControlName="product_price"
              class="mt-2 w-full rounded-xl border border-gray-300/70 dark:border-neutral-700 bg-white dark:bg-neutral-950 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-black/70 dark:focus:ring-white/20 transition"
            />
            @if (form.controls.product_price.touched &&
            form.controls.product_price.invalid) {
            <p class="text-red-500 text-xs mt-1">Price must be more than 0</p>
            }
          </section>

          <section>
            <label
              class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-neutral-400"
            >
              Quantity
            </label>
            <input
              type="number"
              min="0"
              formControlName="product_quantity"
              class="mt-2 w-full rounded-xl border border-gray-300/70 dark:border-neutral-700 bg-white dark:bg-neutral-950 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-black/70 dark:focus:ring-white/20 transition"
            />
            @if (form.controls.product_quantity.touched &&
            form.controls.product_quantity.invalid) {
            <p class="text-red-500 text-xs mt-1">
              Quantity must be more than 0
            </p>
            }
          </section>
        </section>

        <!-- CATEGORY -->
        <section>
          <label
            class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-neutral-400"
          >
            Category
          </label>
          <select
            formControlName="product_category"
            class="mt-2 w-full rounded-xl border border-gray-300/70 dark:border-neutral-700 bg-white dark:bg-neutral-950 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-black/70 dark:focus:ring-white/20 transition"
          >
            <option value="clothing">Clothing</option>
            <option value="digital">Digital</option>
            <option value="electronic">Electronic</option>
            <option value="food">Food</option>
            <option value="other">Other</option>
          </select>

          @if (form.controls.product_category.touched &&
          form.controls.product_category.invalid) {
          <p class="text-red-500 text-xs mt-1">Must choose a cateogry</p>
          }
        </section>

        <!-- IMAGE -->
        <section>
          <label
            class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-neutral-400"
          >
            Image URL   
          </label>
          <input
            type="text"
            placeholder="https://..."
            class="mt-2 w-full rounded-xl border border-gray-300/70 dark:border-neutral-700 bg-white dark:bg-neutral-950 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-black/70 dark:focus:ring-white/20 transition"
            (change)="
              form.controls.product_image.setValue([$event.target.value])
            "
          />
        </section>

        <!-- ACTIONS -->
        <section class="pt-4 flex items-center gap-4">
          <button
            type="submit"
            [disabled]="loading"
            class="inline-flex items-center justify-center rounded-xl bg-black text-white px-6 py-3 text-sm font-semibold hover:bg-gray-900 transition disabled:opacity-50"
          >
            @if (loading) { Publishing… } @else { Publish Product }
          </button>

          <a
            routerLink="/dashboard-page"
            class="text-sm text-gray-500 hover:text-gray-900 dark:text-neutral-400 dark:hover:text-neutral-200 transition"
          >
            Cancel
          </a>
        </section>
      </form>
    </section>
  </section>
</section>
